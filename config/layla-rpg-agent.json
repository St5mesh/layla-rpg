{
  "$schema": "https://layla-rpg.example.com/schemas/agent-config.json",
  "name": "Layla RPG Agent",
  "description": "An RPG game agent that allows you to play a text-based adventure game through Layla. Explore locations, fight enemies, and track your character stats!",
  "version": "1.0.0",
  "author": "Layla RPG Team",
  
  "_comment_server": "Configure the URL where your RPG server is running. Change localhost to your server's IP if running remotely.",
  "serverBaseUrl": "http://localhost:3000",
  
  "_comment_triggers": "Each trigger maps a phrase or pattern to an API call. When you say something matching the pattern, Layla will call the API and show you the response.",
  "triggers": [
    {
      "_comment": "Look around or describe current location",
      "id": "describe_location",
      "patterns": [
        "look around",
        "where am I",
        "describe location",
        "look",
        "examine room",
        "examine area",
        "what do I see"
      ],
      "regexPatterns": [
        "^look\\s*(around)?$",
        "^where\\s+am\\s+I\\??$",
        "^describe\\s+(the\\s+)?(location|room|area)$"
      ],
      "httpMethod": "GET",
      "endpoint": "/describe_location",
      "responseField": "description",
      "responsePrefix": "üó∫Ô∏è ",
      "helpText": "Say 'look around' to see what's around you."
    },
    
    {
      "_comment": "Check player stats",
      "id": "get_stats",
      "patterns": [
        "check stats",
        "show stats",
        "my stats",
        "character stats",
        "show my stats",
        "status",
        "my status"
      ],
      "regexPatterns": [
        "^(check|show|my)\\s+stats$",
        "^character\\s*(stats|status)?$",
        "^status$"
      ],
      "httpMethod": "GET",
      "endpoint": "/get_stats",
      "responseField": "stats",
      "responsePrefix": "",
      "helpText": "Say 'check stats' to see your character's status."
    },
    
    {
      "_comment": "Attack an enemy - extracts target name from command",
      "id": "attack",
      "patterns": [],
      "regexPatterns": [
        "^attack\\s+(?:the\\s+)?(.+)$",
        "^fight\\s+(?:the\\s+)?(.+)$",
        "^hit\\s+(?:the\\s+)?(.+)$",
        "^strike\\s+(?:the\\s+)?(.+)$"
      ],
      "captureGroups": {
        "1": "target"
      },
      "httpMethod": "POST",
      "endpoint": "/attack",
      "bodyTemplate": {
        "target": "{target}"
      },
      "responseField": "result.message",
      "responsePrefix": "",
      "helpText": "Say 'attack goblin' to attack an enemy."
    },
    
    {
      "_comment": "Move to a different location - extracts location from command",
      "id": "move",
      "patterns": [],
      "regexPatterns": [
        "^go\\s+(?:to\\s+)?(?:the\\s+)?(.+)$",
        "^enter\\s+(?:the\\s+)?(.+)$",
        "^move\\s+(?:to\\s+)?(?:the\\s+)?(.+)$",
        "^travel\\s+(?:to\\s+)?(?:the\\s+)?(.+)$",
        "^walk\\s+(?:to\\s+)?(?:the\\s+)?(.+)$"
      ],
      "captureGroups": {
        "1": "location"
      },
      "locationMapping": {
        "_comment": "Maps natural language to location IDs",
        "tavern": "tavern",
        "the tavern": "tavern",
        "rusty dragon": "tavern",
        "rusty dragon tavern": "tavern",
        "town square": "town_square",
        "square": "town_square",
        "town": "town_square",
        "blacksmith": "blacksmith",
        "iron forge": "blacksmith",
        "forge": "blacksmith",
        "cellar": "cellar",
        "tavern cellar": "cellar",
        "basement": "cellar",
        "forest": "forest_entrance",
        "forest entrance": "forest_entrance",
        "woods": "forest_entrance",
        "deep forest": "deep_forest",
        "deep woods": "deep_forest"
      },
      "httpMethod": "POST",
      "endpoint": "/move",
      "bodyTemplate": {
        "location": "{location}"
      },
      "responseField": "description",
      "fallbackResponseField": "message",
      "responsePrefix": "",
      "helpText": "Say 'go to tavern' or 'enter forest' to move."
    },
    
    {
      "_comment": "Start a new game",
      "id": "new_game",
      "patterns": [
        "new game",
        "start new game",
        "start over",
        "restart",
        "new character",
        "create character"
      ],
      "regexPatterns": [
        "^(start\\s+)?(new\\s+)?game$",
        "^start\\s+over$",
        "^restart$",
        "^(new|create)\\s+character$"
      ],
      "httpMethod": "POST",
      "endpoint": "/new_game",
      "bodyTemplate": {},
      "responseField": "description",
      "responsePrefix": "üéÆ New adventure started!\n\n",
      "helpText": "Say 'new game' to start a fresh adventure."
    },
    
    {
      "_comment": "Check inventory",
      "id": "inventory",
      "patterns": [
        "check inventory",
        "show inventory",
        "my inventory",
        "what do I have",
        "my items",
        "items",
        "bag"
      ],
      "regexPatterns": [
        "^(check|show|my)\\s+inventory$",
        "^what\\s+do\\s+I\\s+have\\??$",
        "^(my\\s+)?items$",
        "^bag$"
      ],
      "httpMethod": "GET",
      "endpoint": "/inventory",
      "responseField": "message",
      "responsePrefix": "üéí ",
      "helpText": "Say 'check inventory' to see what you're carrying."
    },
    
    {
      "_comment": "List enemies at current location",
      "id": "enemies",
      "patterns": [
        "who is here",
        "list enemies",
        "scan area",
        "enemies",
        "scan",
        "detect enemies"
      ],
      "regexPatterns": [
        "^who\\s+is\\s+here\\??$",
        "^(list|show)\\s+enemies$",
        "^scan\\s*(area)?$",
        "^enemies$",
        "^detect\\s+enemies$"
      ],
      "httpMethod": "GET",
      "endpoint": "/enemies",
      "responseField": "message",
      "responsePrefix": "üëÅÔ∏è ",
      "helpText": "Say 'scan' or 'enemies' to see who's around."
    },
    
    {
      "_comment": "Help command",
      "id": "help",
      "patterns": [
        "help",
        "commands",
        "how to play",
        "what can I do"
      ],
      "regexPatterns": [
        "^help$",
        "^commands$",
        "^how\\s+to\\s+play$",
        "^what\\s+can\\s+I\\s+do\\??$"
      ],
      "staticResponse": true,
      "response": "üéÆ **Layla RPG Commands**\n\n**Exploration:**\n‚Ä¢ 'look around' - See your surroundings\n‚Ä¢ 'go to [place]' - Travel somewhere\n‚Ä¢ 'scan' - Check for enemies\n\n**Character:**\n‚Ä¢ 'check stats' - View your stats\n‚Ä¢ 'check inventory' - See your items\n\n**Combat:**\n‚Ä¢ 'attack [enemy]' - Fight an enemy\n\n**Game:**\n‚Ä¢ 'new game' - Start fresh\n‚Ä¢ 'help' - Show this message",
      "helpText": "Say 'help' to see all available commands."
    }
  ],
  
  "_comment_settings": "Additional settings for the agent behavior",
  "settings": {
    "connectionTimeout": 5000,
    "retryAttempts": 2,
    "showErrorDetails": false,
    "defaultErrorMessage": "Sorry, I couldn't complete that action. The RPG server might be offline. Make sure it's running at the configured URL."
  }
}
